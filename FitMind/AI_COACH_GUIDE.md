# ğŸ¤– FitMind AI Coach - PersonalizovanÃ½ TrÃ©ner & Poradca

## ğŸ“– PrehÄ¾ad

FitMind AI Coach je pokroÄilÃ½ personalizovanÃ½ fitness trÃ©ner a wellness poradca pohÃ¡ÅˆanÃ½ umelou inteligenciou (OpenAI GPT-4o-mini). Funguje ako vÃ¡Å¡ **osobnÃ½ kouÄ, ktorÃ½:**

- ğŸ’¬ **Komunikuje s vami** prirodzenÃ½m jazykom v slovenÄine
- ğŸ“Š **Automaticky zaznamenÃ¡va** jedlo, cviÄenie, nÃ¡ladu, spÃ¡nok, stres a vÃ¡hu
- ğŸ¯ **Sleduje vaÅ¡e ciele** a vyhodnocuje pokrok
- ğŸ“ˆ **Analyzuje trendy** a poskytuje personalizovanÃ© odporÃºÄania
- ğŸ§  **PamÃ¤tÃ¡ si kontext** predchÃ¡dzajÃºcich konverzÃ¡ciÃ­
- ğŸ† **Motivuje vÃ¡s** a upozorÅˆuje na Ãºspechy aj oblasti na zlepÅ¡enie

---

## âœ¨ HlavnÃ© Funkcie

### 1. **KonverzaÄnÃ¡ HistÃ³ria & PamÃ¤Å¥**

AI si pamÃ¤tÃ¡ vaÅ¡u celÃº histÃ³riu konverzÃ¡ciÃ­, Äo umoÅ¾Åˆuje:
- OdkazovaÅ¥ na predchÃ¡dzajÃºce tÃ©my
- SledovaÅ¥ vÃ½voj vaÅ¡ich nÃ¡vykov
- PoskytovaÅ¥ kontextovÃ© rady
- BudovaÅ¥ osobnÃ½ vzÅ¥ah trÃ©ner-klient

**PrÃ­klad:**
```
Ty: "Dnes som zjedol 2 vajÃ­Äka na raÅˆajky, asi 200 kcal"
AI: "Super! RaÅˆajky uloÅ¾enÃ©. PamÃ¤tÃ¡m si, Å¾e vÄera si mal 
     problÃ©m s energiou. Ako sa dnes cÃ­tiÅ¡?"
```

### 2. **AutomatickÃ© ZaznamenÃ¡vanie Ãšdajov**

Jednoducho povedzte AI Äo ste jedli, ako ste cviÄili, alebo ako sa cÃ­tite - vÅ¡etko sa **automaticky uloÅ¾Ã­** do databÃ¡zy.

#### PodporovanÃ© typy zÃ¡znamov:

| Typ | PrÃ­klad | UloÅ¾enÃ© Ãºdaje |
|-----|---------|---------------|
| **Jedlo** | "Zjedol som obed: kura s ryÅ¾ou, 500 kcal" | KalÃ³rie, proteÃ­ny, sacharidy, tuky, typ jedla |
| **CviÄenie** | "30 minÃºt behu, vysokÃ¡ intenzita" | Typ, trvanie, intenzita, spÃ¡lenÃ© kalÃ³rie |
| **NÃ¡lada** | "CÃ­tim sa dobre, 4/5" | SkÃ³re (1-5), poznÃ¡mka |
| **Stres** | "Stres z prÃ¡ce, ÃºroveÅˆ 7/10" | ÃšroveÅˆ (1-10), zdroj |
| **SpÃ¡nok** | "Spal som 7 hodÃ­n, dobrÃ¡ kvalita" | Hodiny, kvalita |
| **VÃ¡ha** | "Dnes vÃ¡Å¾im 75 kg" | VÃ¡ha v kg |

### 3. **TÃ½Å¾dennÃ½ & MesaÄnÃ½ Report**

KaÅ¾dÃ½ tÃ½Å¾deÅˆ alebo mesiac mÃ´Å¾ete zÃ­skaÅ¥ detailnÃ½ report s:

- ğŸ“Š SumÃ¡rom vÅ¡etkÃ½ch aktivÃ­t
- ğŸ† Zoznamom Ãºspechov
- âš ï¸ OblasÅ¥ami na zlepÅ¡enie
- ğŸ’¡ PersonalizovanÃ½mi odporÃºÄaniami
- ğŸ“ˆ Trendmi a pokrokom

**PrÃ­klad tÃ½Å¾dennÃ©ho reportu:**
```
ğŸŒŸ ExcelentnÃ½ tÃ½Å¾deÅˆ! PokraÄuj Äalej!

ğŸ† Ãšspechy:
âœ… DodrÅ¾al si kalorickÃ½ cieÄ¾ (2000 kcal/deÅˆ)
ğŸ’ª 5 trÃ©ningov tento tÃ½Å¾deÅˆ - skvelÃ©!
ğŸ˜Š Priemerne skvelÃ¡ nÃ¡lada (4.2/5)

âš ï¸ Oblasti na zlepÅ¡enie:
â— Nedostatok spÃ¡nku (6.2h)

ğŸ’¡ OdporÃºÄania:
â€¢ SnaÅ¾ sa spaÅ¥ aspoÅˆ 7-8 hodÃ­n denne
```

### 4. **Sledovanie CieÄ¾ov**

AI sleduje vÃ¡Å¡ pokrok k nastavenÃ½m cieÄ¾om:

- ğŸ¯ **CieÄ¾ovÃ¡ vÃ¡ha** - koÄ¾ko kg chÃ½ba
- ğŸ”¥ **DennÃ½ kalorickÃ½ cieÄ¾** - Äi ste v cieli
- ğŸ’ª **CviÄebnÃ© ciele** - frekvencia a intenzita
- ğŸ˜Š **Wellness ciele** - nÃ¡lada, stres, spÃ¡nok

**VizualizÃ¡cia pokroku:**
```
CieÄ¾ovÃ¡ vÃ¡ha: 75 kg
AktuÃ¡lne: 78 kg
Rozdiel: -3 kg
Pokrok: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ 60%
Status: âœ… Na dobrej ceste!
```

### 5. **PersonalizovanÃ© OdporÃºÄania**

Na zÃ¡klade vaÅ¡ich dÃ¡t a cieÄ¾ov AI generuje konkrÃ©tne odporÃºÄania:

**Pre chudnutie:**
- ğŸ”¥ KombinÃ¡cia kardio (3-4x) + silovÃ½ trÃ©ning (2-3x)
- ğŸ KalorickÃ½ deficit 300-500 kcal denne

**Pre svalovÃº hmotu:**
- ğŸ’ª SilovÃ½ trÃ©ning 4-5x tÃ½Å¾denne
- ğŸ¥© VysokÃ½ proteÃ­novÃ½ prÃ­jem (1.6-2.2g/kg)

**Pre energiu:**
- âš¡ PravidelnÃ½ spÃ¡nok 7-8h + raÅˆajky do hodiny
- ğŸ’§ HydratÃ¡cia: min. 2-3L vody denne

**Pre stres:**
- ğŸ§˜ MeditÃ¡cia alebo dychovÃ© cviÄenia 10 min. denne
- ğŸŒ³ ÄŒas v prÃ­rode aspoÅˆ 30 min. denne

---

## ğŸ¯ Ako to PouÅ¾Ã­vaÅ¥

### Krok 1: Nastavte si Profil

V profile zadajte:
- âœ… Meno, vek, vÃ½Å¡ka
- âœ… **Ciele** (napr. "schudnÃºÅ¥ 5kg", "zÃ­skaÅ¥ svalovÃº hmotu")
- âœ… **ProblÃ©my** (napr. "mÃ¡lo energie", "vysokÃ½ stres")
- âœ… **ÄŒo vÃ¡m pomÃ¡ha** (napr. "rannÃ¡ joga", "meditÃ¡cia")
- âœ… **CieÄ¾ovÃ¡ vÃ¡ha** a **dennÃ½ kalorickÃ½ cieÄ¾**

### Krok 2: Chatujte s AI Coachom

Otvorte AI Chat a komunikujte prirodzene:

**PrÃ­klady konverzÃ¡ciÃ­:**

```
Ty: "Ahoj, ako sa mÃ¡Å¡?"
AI: "Ahoj Martin! âœ‹ Som tvoj osobnÃ½ kouÄ. 
     Ako sa cÃ­tiÅ¡ dnes? UÅ¾ si mal raÅˆajky?"

Ty: "Zjedol som 2 vajÃ­Äka a jogurt, asi 300 kcal"
AI: "Super raÅˆajky! ğŸ³ UloÅ¾il som to.
     Dnes mÃ¡Å¡ cieÄ¾ 2000 kcal, uÅ¾ mÃ¡Å¡ 300.
     ÄŒo plÃ¡nujeÅ¡ na obed?"

Ty: "Dnes som cviÄil 45 minÃºt, posilÅˆovanie"
AI: "VÃ½borne! ğŸ’ª ZapÃ­sal som 45 min. posilÅˆovania.
     Tento tÃ½Å¾deÅˆ uÅ¾ mÃ¡Å¡ 3 trÃ©ningy - tak Äalej!
     Nezabudni na stretching po trÃ©ningu ğŸ§˜"

Ty: "CÃ­tim sa unavenÃ½, stres 8/10"
AI: "Rozumiem ğŸ˜” UloÅ¾il som stres level 8.
     To je pomerne vysokÃ©. SkÃºs hlbokÃ© dÃ½chanie:
     4 sekundy nÃ¡dych, 4 vÃ½dych, 5x opakuj.
     TieÅ¾ odporÃºÄam aspoÅˆ 7h spÃ¡nku dnes veÄer.
     Ako dlho trvÃ¡ tento stres?"
```

### Krok 3: Sledujte svoje Pokroky

Kliknite na tlaÄidlo **"ğŸ“Š Moje pokroky"** v chate pre zobrazenie:

#### ğŸ“… **Tab: Tento tÃ½Å¾deÅˆ**
- SÃºhrn aktivÃ­t za poslednÃ½ch 7 dnÃ­
- Ãšspechy a oblasti na zlepÅ¡enie
- KonkrÃ©tne odporÃºÄania

#### ğŸ’¡ **Tab: OdporÃºÄania**
- Top 5 personalizovanÃ½ch rÃ¡d
- PrispÃ´sobenÃ© vaÅ¡im cieÄ¾om a aktuÃ¡lnemu stavu

#### ğŸ¯ **Tab: Moje ciele**
- Pokrok k cieÄ¾ovej vÃ¡he
- Plnenie kalorickÃ©ho cieÄ¾a
- VizuÃ¡lne progress bary

---

## ğŸ”§ TechnickÃ¡ ImplementÃ¡cia

### Backend (Python FastAPI)

#### **NovÃ© sÃºbory:**

1. **`coach_service.py`** - PokroÄilÃ© analytickÃ© funkcie
   - `generate_weekly_report()` - TÃ½Å¾dennÃ½ report
   - `generate_monthly_report()` - MesaÄnÃ½ report
   - `get_personalized_recommendations()` - PersonalizovanÃ© rady
   - `check_goal_progress()` - Sledovanie cieÄ¾ov

2. **`ai_service.py`** (rozÅ¡Ã­renÃ½)
   - `analyze_user_progress()` - AnalÃ½za trendov
   - KonverzaÄnÃ¡ histÃ³ria v `chat()`
   - VylepÅ¡enÃ½ `create_system_prompt()` s kontextom

3. **`firebase_service.py`** (rozÅ¡Ã­renÃ½)
   - `save_chat_message()` - Ukladanie konverzÃ¡ciÃ­
   - `get_chat_history()` - NaÄÃ­tanie histÃ³rie
   - `clear_chat_history()` - Vymazanie histÃ³rie

#### **NovÃ© API Endpointy:**

```python
# === KOUÄŒ FUNKCIE ===

GET  /api/coach/weekly-report/{user_id}
     â†’ TÃ½Å¾dennÃ½ report s analÃ½zou

GET  /api/coach/monthly-report/{user_id}
     â†’ MesaÄnÃ½ report s trendmi

GET  /api/coach/recommendations/{user_id}
     â†’ PersonalizovanÃ© odporÃºÄania (max 5)

GET  /api/coach/goal-progress/{user_id}
     â†’ Pokrok k stanovenÃ½m cieÄ¾om

GET  /api/chat/history/{user_id}?limit=50
     â†’ HistÃ³ria konverzÃ¡cie

DELETE /api/chat/history/{user_id}
       â†’ Vymazanie histÃ³rie
```

### Frontend (Angular)

#### **RozÅ¡Ã­renÃ© sÃºbory:**

1. **`ai.service.ts`**
   - NovÃ© interfaces: `WeeklyReport`, `MonthlyReport`, `GoalProgress`
   - NovÃ© metÃ³dy: `getWeeklyReport()`, `getMonthlyReport()`, `getPersonalizedRecommendations()`, `getGoalProgress()`, `getChatHistory()`, `clearChatHistory()`

2. **`ai-chat.ts`**
   - Insights panel s 3 tabmi
   - AutomatickÃ© naÄÃ­tavanie reportov
   - Real-time refresh po uloÅ¾enÃ­ dÃ¡t

3. **`ai-chat.html`**
   - Insights panel s tabmi
   - VizualizÃ¡cia reportov a pokroku
   - Progress bary pre ciele

4. **`ai-chat.scss`**
   - Styling pre insights panel
   - ResponzÃ­vny dizajn
   - AnimÃ¡cie a prechody

---

## ğŸ“Š DatabÃ¡zovÃ¡ Å truktÃºra (Firestore)

### NovÃ¡ kolekcia: `chatHistory`

```
userFitnessProfiles/{userId}/chatHistory/{messageId}
{
  role: "user" | "assistant",
  content: "text sprÃ¡vy",
  timestamp: Timestamp,
  metadata: {
    saved_entries: ["ğŸ½ï¸ Jedlo ulozene"],
    ...
  }
}
```

### ExistujÃºce kolekcie (rozÅ¡Ã­renÃ©):

```
userFitnessProfiles/{userId}
{
  userId: string,
  name: string,
  age: number,
  height: number,
  goals: string[],           // NovÃ©: zoznam cieÄ¾ov
  problems: string[],        // NovÃ©: problÃ©my/vÃ½zvy
  helps: string[],           // NovÃ©: Äo pomÃ¡ha
  targetWeight: number,      // NovÃ©: cieÄ¾ovÃ¡ vÃ¡ha
  targetCalories: number,    // NovÃ©: dennÃ½ kalorickÃ½ cieÄ¾
  createdAt: Timestamp,
  updatedAt: Timestamp,
  
  // Subkolekcie:
  foodEntries/...
  exerciseEntries/...
  moodEntries/...
  stressEntries/...
  sleepEntries/...
  weightEntries/...
  chatHistory/...           // NovÃ©!
}
```

---

## ğŸš€ InÅ¡talÃ¡cia a Spustenie

### 1. NainÅ¡talujte zÃ¡vislosti

Backend uÅ¾ obsahuje vÅ¡etky potrebnÃ© kniÅ¾nice v `requirements.txt`.

### 2. Nastavte OpenAI API kÄ¾ÃºÄ

V `backend/.env`:
```bash
OPENAI_API_KEY=sk-your-api-key-here
```

### 3. Spustite backend

```bash
cd backend
python main.py
```

Backend beÅ¾Ã­ na `http://localhost:8000`

### 4. Spustite frontend

```bash
npm start
```

Frontend beÅ¾Ã­ na `http://localhost:4200`

---

## ğŸ’¬ PrÃ­klady PouÅ¾itia

### ScenÃ¡r 1: RannÃ¡ Rutina

```
Ty: "DobrÃ© rÃ¡no! PrÃ¡ve som vstal."
AI: "DobrÃ© rÃ¡no Martin! â˜€ï¸ Ako si spal?"

Ty: "Spal som 7.5 hodiny, celkom dobre"
AI: "Super! ğŸ˜´ UloÅ¾il som spÃ¡nok (7.5h, dobrÃ¡ kvalita).
     To je v norme. UÅ¾ je Äas na raÅˆajky! 
     ÄŒo si dÃ¡Å¡?"

Ty: "OvsenÃº kaÅ¡u s banÃ¡nom a medom, 350 kcal"
AI: "VÃ½bornÃ¡ voÄ¾ba! ğŸ¥£ RaÅˆajky uloÅ¾enÃ© (350 kcal).
     Ovos je super zdroj energie. 
     Dnes mÃ¡Å¡ cieÄ¾ 2000 kcal, uÅ¾ mÃ¡Å¡ 350.
     PlÃ¡nujeÅ¡ dnes cviÄiÅ¥? ğŸ’ª"
```

### ScenÃ¡r 2: Po TrÃ©ningu

```
Ty: "PrÃ¡ve som dokonÄil 60 minÃºt behu"
AI: "Wow! ğŸƒâ€â™‚ï¸ To je skvelÃ½ vÃ½kon!
     UloÅ¾il som: 60 min. behu
     Tento tÃ½Å¾deÅˆ uÅ¾ mÃ¡Å¡ 4 trÃ©ningy - si na super ceste!
     Nezabudni sa doplniÅ¥ tekutinami a proteÃ­nmi ğŸ’§
     Ako sa cÃ­tiÅ¡ po behu?"

Ty: "UnavenÃ½, ale spokojnÃ½. NÃ¡lada 4/5"
AI: "To je fantastickÃ©! ğŸ˜Š 
     UloÅ¾il som nÃ¡ladu 4/5.
     CviÄenie je skvelÃ½ spÃ´sob, ako zlepÅ¡iÅ¥ nÃ¡ladu.
     Tvoja priemernÃ¡ nÃ¡lada tento tÃ½Å¾deÅˆ je 3.8/5 - stÃºpa! ğŸ“ˆ"
```

### ScenÃ¡r 3: Kontrola Pokroku

```
Ty: "Ako sa mi darÃ­ s mojimi cieÄ¾mi?"
AI: "Pozrime sa na tvoj pokrok! ğŸ“Š

     ğŸ¯ CieÄ¾ovÃ¡ vÃ¡ha: 75 kg
     AktuÃ¡lne: 77.5 kg
     ZostÃ¡va: -2.5 kg
     Pokrok: VÃ½borne, uÅ¾ si stratil 3kg! ğŸ‰

     ğŸ”¥ KalorickÃ½ cieÄ¾: 2000 kcal/deÅˆ
     Priemer tento tÃ½Å¾deÅˆ: 1950 kcal
     Rozdiel: -50 kcal
     Status: âœ… V cieli!

     ğŸ’ª CviÄenie:
     Tento tÃ½Å¾deÅˆ: 4 trÃ©ningy, 180 minÃºt
     Target: 3-4x tÃ½Å¾denne
     Status: âœ… PerfektnÃ©!

     Celkovo si na vÃ½bornej ceste! PokraÄuj Äalej! ğŸš€"
```

---

## ğŸ“ˆ VÃ½hody PersonalizovanÃ©ho AI Coacha

### âœ… Pre PouÅ¾Ã­vateÄ¾a

- **NeustÃ¡la podpora** - AI je k dispozÃ­cii 24/7
- **PersonalizÃ¡cia** - VÅ¡etky rady sÃº Å¡itÃ© na mieru vaÅ¡im cieÄ¾om
- **AutomatizÃ¡cia** - NemusÃ­te manuÃ¡lne zadÃ¡vaÅ¥ dÃ¡ta
- **MotivÃ¡cia** - AI vÃ¡s povzbudzuje a gratuluje k Ãºspechom
- **KomplexnosÅ¥** - Sleduje fitness, vÃ½Å¾ivu aj mental health

### âœ… Pre VÃ½vojÃ¡ra

- **Å kÃ¡lovateÄ¾nosÅ¥** - Jeden AI model pre vÅ¡etkÃ½ch pouÅ¾Ã­vateÄ¾ov
- **Flexibilita** - JednoduchÃ© pridÃ¡vanie novÃ½ch funkciÃ­
- **DÃ¡ta** - BohatÃ¡ databÃ¡za pre budÃºce analÃ½zy
- **Cloud** - Firebase zabezpeÄuje cloud storage
- **API** - ModulÃ¡rne RESTful API

---

## ğŸ” BezpeÄnosÅ¥ a SÃºkromie

- âœ… VÅ¡etky Ãºdaje sÃº **personalizovanÃ© per user** (userId)
- âœ… Firestore **security rules** chrÃ¡nia dÃ¡ta
- âœ… KonverzÃ¡cie sÃº **privÃ¡tne** a uloÅ¾enÃ© iba vo vaÅ¡om ÃºÄte
- âœ… OpenAI API komunikuje cez **HTTPS**
- âœ… Chat histÃ³ria sa dÃ¡ **vymazaÅ¥** kedykoÄ¾vek

---

## ğŸ“ ÄalÅ¡ie RozÅ¡Ã­renia (BudÃºcnosÅ¥)

- ğŸ“¸ RozpoznÃ¡vanie jedla z fotografie
- ğŸ—£ï¸ HlasovÃ½ vstup (Speech-to-Text)
- ğŸ“… AutomatickÃ© naplÃ¡novanie trÃ©ningov
- ğŸ¤ KomunitnÃ© vÃ½zvy a sÃºÅ¥aÅ¾e
- ğŸ“§ Email/Push notifikÃ¡cie s odporÃºÄaniami
- ğŸ§¬ IntegrÃ¡cia s wearables (Fitbit, Apple Watch)
- ğŸ½ï¸ Generovanie receptov podÄ¾a makier
- ğŸ“Š PokroÄilÃ© ML modely pre predikcie

---

## ğŸ› RieÅ¡enie ProblÃ©mov

### AI neodpovedÃ¡

```bash
# 1. Skontroluj Äi beÅ¾Ã­ backend
curl http://localhost:8000/

# 2. Skontroluj OpenAI API kÄ¾ÃºÄ
echo $OPENAI_API_KEY

# 3. Pozri logy
cat backend/logs/error.log
```

### DÃ¡ta sa neukladajÃº

```bash
# 1. Skontroluj Firebase pripojenie
python backend/check_service_account.py

# 2. Skontroluj Firestore rules
# Firestore Console â†’ Rules â†’ Verify permissions
```

### Frontend chyby

```bash
# 1. Skontroluj Äi beÅ¾Ã­ backend
# 2. Otvor Chrome DevTools â†’ Network
# 3. Pozri HTTP requesty a responses
```

---

## ğŸ“ Kontakt & Podpora

Pre otÃ¡zky a pomoc:
- ğŸ“§ Email: support@fitmind.sk
- ğŸ’¬ GitHub Issues
- ğŸ“– DokumentÃ¡cia: [README.md](README.md)

---

**Verzia:** 2.0.0 (Personal Coach Edition)  
**PoslednÃ¡ aktualizÃ¡cia:** JanuÃ¡r 2026  
**Autor:** FitMind Development Team

---

## ğŸ™ PoÄakovanie

Tento systÃ©m bol vytvorenÃ½ s cieÄ¾om pomÃ´cÅ¥ Ä¾uÄom dosiahnuÅ¥ ich fitness a wellness ciele pomocou umelej inteligencie. VerÃ­me, Å¾e personalizovanÃ½ AI kouÄ mÃ´Å¾e byÅ¥ skutoÄnÃ½m pomocnÃ­kom na vaÅ¡ej ceste k lepÅ¡iemu zdraviu! ğŸ’ªğŸš€

